"use strict";$(function(){function e(e){c.license+=e,console.log(c.license),$(".js-license-count").text(c.license),t()}function t(){var e=$(".js-time-change:checked").attr("data-time");i=c.license;var t;1!=e?$(".js-period-in-day").text(30*e):$(".js-period-in-day").text(0),12==e&&$(".js-period-in-day").text(365),24==e&&$(".js-period-in-day").text(730),$(".js-license-count-value").each(function(e,t){$(t).text(i)}),$(".js-time-price").each(function(e,t){var n=$(t).attr("data-time");$(t).text(("$"+(n*i*c.cost).toFixed(2)).toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "))}),$(".js-sale").each(function(e,n){var c=$(n).attr("data-time");t=Math.ceil(i*o[c]),$(n).text("$"+t+" off")}),$(".js-total-sale").each(function(t,n){var c;c=i>=3?Math.ceil(i*o[e]):0,$(n).text("$"+c+" off")}),$(".js-total-price").each(function(t,n){1==e?$(n).text("$0"):$(n).text("$"+(e*i*c.cost-o[e]*i).toFixed(2).toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "))})}function n(){var e=this.value.replace(/[^\d]/g,"").substring(0,16);e=""!=e?e.match(/.{1,4}/g).join(" "):"",this.value=e}var i,c={license:3,cost:5.99},o={1:0,6:10,9:15,12:25,24:40};$(".js-modal-open").click(function(){$(".js-modal").show(),$("body").addClass("overflow"),$(document).height()>$(window).height()&&$(".js-billing").addClass("scroll")}),$(".js-close-modal").click(function(){$(".js-modal").hide(),$("body").removeClass("overflow"),$(document).height()>$(window).height()&&$(".js-billing").removeClass("scroll")}),$(".js-background").click(function(){$(".js-modal").hide(),$("body").removeClass("overflow"),$(document).height()>$(window).height()&&$(".js-billing").removeClass("scroll")}),$(".js-open-coupone-input").click(function(e){e.preventDefault(),$(".js-open-coupone-btn").toggleClass("btn-open")}),$(".js-raising").click(function(){c.license>=3&&e(1)}),$(".js-reduction").click(function(){c.license>3&&e(-1)}),$(".js-license-count").text(c.license),t(),$(".js-time-change").each(function(e,n){$(n).change(t)});var s=$(".js-input-month");s.change(function(){s.val()>12&&s.attr("disabled")});var a=document.querySelector(".js-number-new-card");a.addEventListener("keypress",n,!1)});