"use strict";$(function(){function e(e){i.license+=e,$(".js-license-count").text(i.license),t()}function t(){var e=$(".js-time-change:checked").attr("data-time");o=i.license;var t;1!=e?$(".js-period-in-day").text(30*e):$(".js-period-in-day").text(0),12==e?$(".js-period-in-day").text(365):24==e&&$(".js-period-in-day").text(730),$(".js-license-count-value").each(function(e,t){$(t).text(o)}),$(".js-time-price").each(function(e,t){var n=$(t).attr("data-time");$(t).text(("$"+(n*o*i.cost).toFixed(2)).toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "))}),$(".js-sale").each(function(e,n){var i=$(n).attr("data-time");t=Math.ceil(o*c[i]),$(n).text("$"+t+" off")}),$(".js-total-sale").each(function(t,n){var i;i=o>=3?Math.ceil(o*c[e]):0,$(n).text("$"+i+" off")}),$(".js-total-price").each(function(t,n){1==e?$(n).text("$0"):$(n).text("$"+(e*o*i.cost-c[e]*o).toFixed(2).toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "))})}function n(){var e=this.value.replace(/[^\d]/g,"").substring(0,16);e=""!=e?e.match(/.{1,4}/g).join(" "):"",this.value=e}var o,i={license:3,cost:5.99},c={1:0,6:10,9:15,12:25,24:40};$(".js-modal-open").click(function(){$(".js-modal").show(),$("body").addClass("overflow"),$(document).height()>$(window).height()&&$(".js-billing").addClass("scroll")}),$(".js-close-modal").click(function(){$(".js-modal").hide(),$("body").removeClass("overflow"),$(document).height()>$(window).height()&&$(".js-billing").removeClass("scroll")}),$(".js-background").click(function(){$(".js-modal").hide(),$("body").removeClass("overflow"),$(document).height()>$(window).height()&&$(".js-billing").removeClass("scroll")}),$(".js-open-coupone-input").click(function(e){e.preventDefault(),$(".js-open-coupone-btn").toggleClass("btn-open")}),$(".js-raising").click(function(){i.license>=3&&e(1)}),$(".js-reduction").click(function(){i.license>3&&e(-1)}),$(".js-license-count").text(i.license),t(),$(".js-time-change").each(function(e,n){$(n).change(t)});var s=document.querySelector(".js-number-new-card");s.addEventListener("keypress",n,!1),$(".js-number").keydown(function(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||65==e.keyCode&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),$(".js-input-month").keydown(function(e){var t=$(".js-input-month").val();+(t+e.key)>12?e.preventDefault():+t>2&&($(".js-input-month").val().length=1)})});